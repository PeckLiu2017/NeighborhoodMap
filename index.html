<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="css/map.css">
  <title>NeighborhoodMap</title>
</head>

<body>
  <!-- Click this div to open or close side panel -->
  <div id="toggle-side-panel">
    <span class="open-panel-icon"></span>
    <span class="close-panel-icon"></span>
    <!-- Show tips info in this span when mouse over or leave this toggle div -->
    <span class="popuptext" id="myPopup"></span>
  </div>

  <!-- Side panel portion -->
  <div id="mySidenav" class="sidenav">

    <div class="searchbox">
      <!-- Users can type location they want to search in this input field-->
      <input data-bind="value: searchInput,valueUpdate : 'afterkeydown',event: { 'keyup': filterPlace }" class="search-input" placeholder="Filter Places">
      <!-- Click this false button will clear text in the search input above, show all locations in location list below and reset all markers appearance to default-->
      <span id="clear-search" data-bind="click: resetMarkersToDefault" class="glyphicon glyphicon-remove">&times;</span>
      <!-- clear float -->
      <div class="clear"></div>
    </div>

    <!-- All default location titles will be listed in this ul element -->
    <ul data-bind="foreach: placesList" class="places">
      <!-- When a location be clicked, function selectPlace will be triggered, and a infowindow of this location will be show on the map -->
      <li data-bind="text: title, click: $parent.selectPlace"></li>
    </ul>
  </div>

  <!-- Display map in this div element -->
  <div id="map"></div>

  <!-- Use knockout library -->
  <script src="js/knockout/knockout-3.2.0.js"></script>
  <!-- Use jquery library -->
  <script src="js/jquery/jquery.js"></script>
  <!-- Load the app code -->
  <script src="js/model/model.js"></script>
  <script src="js/view/sidePanelView.js"></script>
  <script src="js/viewModel/viewModel.js"></script>
  <!-- Load JavaScript API asynchronously and handle error -->
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBVWq4B5OpYQH8-6XaJzVRTmpG0xySmoUI&libraries=geometry&v=3&callback=initMap" async defer onerror="handleMapLoadError()"></script>
</body>

</html>
