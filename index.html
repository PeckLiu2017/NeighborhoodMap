<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
  <title>mapDemo</title>
  <!-- 导入地图样式 -->
  <link rel="stylesheet" href="css/main1119.css" />
</head>

<body>
  <!-- 选定地图的div容器 -->
  <div id="container"></div>
  <!-- 异步加载 JavaScript API。-->
  <script src="http://webapi.amap.com/maps?v=1.3&key=f3ae7ada0f0fc985249bb386d66bb142&callback=init"></script>
  <script>
    function init() {
      // 创建地图对象
      var map = new AMap.Map('container', {
        center: [116.397428, 39.90923],
        zoom: 11
      });
      map.plugin(["AMap.ToolBar"], function() {
        // 添加 工具条
        map.addControl(new AMap.ToolBar());
      });
      // 创建标记集合
      var markers = [{
          title: '天安门',
          position: [116.39756, 39.908808]
        },
        {
          title: '前门',
          position: [116.397994, 39.900085]
        },
        {
          title: '天坛公园',
          position: [116.410886, 39.881998]
        },
        {
          title: '颐和园',
          position: [116.272852, 39.992273]
        },
        {
          title: '国家体育场',
          position: [116.396203, 39.993575]
        }
      ];

      // 创建 默认信息窗体
      var infoWindow = new AMap.InfoWindow({
        offset: new AMap.Pixel(0, -30)
      });
      // 构建标记
      markers.forEach(function(marker) {
        var newMarker = new AMap.Marker({
          map: map,
          position: [marker.position[0], marker.position[1]],
          title: marker.title,
          offset: new AMap.Pixel(-12, -36)
        });
        newMarker.content = '我是' + marker.title;
        // 为标记绑定 点击事件
        newMarker.on('click', markerClick);
      });

      // 点击事件方法主体
      function markerClick(e) {
        infoWindow.setContent(e.target.content);
        infoWindow.open(map, e.target.getPosition());
      }
      // 根据地图上添加的覆盖物分布情况，自动缩放地图到合适的视野级别
      map.setFitView();
    }
  </script>
</body>

</html>
